<h1>Editar Imóvel</h1>
<p>Aqui você pode preencher a localização, dados básicos, detalhes e adicionar imagens ao imóvel.</p>

<div class="row">
  <div class="col-xs-12 col-md-9 col-lg-8">
    <%= form_for [:admin, @realty] do |f| %>
      <%= def resource; @realty; end; devise_error_messages! %>

      <fieldset>
        <legend>Localização</legend>

        <div class="row">
          <div class="col-xs-12 col-sm-6">
            <div class="form-group">
              <%= f.label :country_id %>
              <%= f.collection_select(:country_id, @realty.locations[:countries], :id, :name, {}, {class: 'form-control'}) %>
            </div>
          </div>

          <div class="col-xs-12 col-sm-6">
            <div class="form-group">
              <%= f.label :city_id %>
              <%= f.collection_select(:city_id, @realty.locations[:cities], :id, :name, {}, {class: 'form-control'}) %>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-xs-12 col-sm-6">
            <div class="form-group">
              <%= f.label :neighborhood %>
              <%= f.text_field :neighborhood, class: 'form-control', autofocus: true %>
            </div>
          </div>

          <div class="col-xs-12 col-sm-6">
            <div class="form-group">
              <%= f.label :street %>
              <%= f.text_field :street, class: 'form-control' %>
            </div>
          </div>
        </div>
      </fieldset>

      <fieldset>
        <legend>Dados Básicos</legend>

        <div class="row">
          <div class="col-xs-12 col-sm-4">
            <div class="form-group">
              <%= f.label :business_kind %>
              <%= f.select(:business_kind, Realty::BUSINESS_KIND.collect do |bk|
                [t("activerecord.collections.realty.business_kind.#{bk}"), bk]
              end, {}, {class: 'form-control'}) %>
            </div>
          </div>

          <div class="col-xs-12 col-sm-4">
            <div class="form-group">
              <%= f.label :realty_kind %>
              <%= f.select(:realty_kind, Realty::REALTY_KIND.collect do |rk|
                [t("activerecord.collections.realty.realty_kind.#{rk}"), rk]
              end, {}, {class: 'form-control'}) %>
            </div>
          </div>

          <div class="col-xs-12 col-sm-4">
            <div class="form-group">
              <%= f.label :reference %>
              <%= f.text_field :reference, class: 'form-control' %>
            </div>
          </div>
        </div>
      </fieldset>

      <fieldset>
        <legend>Mais Detalhes</legend>

        <div class="row">
          <div class="col-xs-12 col-md-6">
            <div class="row">
              <div class="col-xs-12 col-sm-6">
                <div class="form-group">
                  <%= f.label :rooms %>
                  <%= f.text_field :rooms, class: 'form-control integer' %>
                </div>
              </div>

              <div class="col-xs-12 col-sm-6">
                <div class="form-group">
                  <%= f.label :bathrooms %>
                  <%= f.text_field :bathrooms, class: 'form-control integer' %>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-xs-12 col-sm-6">
                <div class="form-group">
                  <%= f.label :parking_spaces %>
                  <%= f.text_field :parking_spaces, class: 'form-control integer' %>
                </div>
              </div>

              <div class="col-xs-12 col-sm-6">
                <div class="form-group">
                  <%= f.label :size %>

                  <div class="input-group">
                    <%= f.text_field :size, class: 'form-control integer right' %>
                    <span class="input-group-addon">m²</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-xs-12 col-sm-6">
                <div class="form-group">
                  <%= f.label :price %>

                  <div class="input-group">
                    <span class="input-group-addon">R$</span>
                    <%= f.text_field :price, class: 'form-control integer right' %>
                    <span class="input-group-addon">,00</span>
                  </div>
                </div>
              </div>

              <div class="col-xs-12 col-sm-6">
                <div class="form-group">
                  <%= f.label :taxes %>

                  <div class="input-group">
                    <span class="input-group-addon">R$</span>
                    <%= f.text_field :taxes, class: 'form-control integer right' %>
                    <span class="input-group-addon">,00</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-xs-12 col-md-6">
            <div class="form-group">
              <%= f.label :description %>
              <%= f.text_area :description, class: 'form-control' %>
            </div>
          </div>
        </div>
      </fieldset>

      <fieldset>
        <legend>Fotos</legend>
        Fotos
      </fieldset>

      <div class="row">
        <div class="col-xs-12 col-md-6">
          <fieldset>
            <legend>Publicar Imóvel</legend>

            <p>Ao publicar o Imóvel, ele ficará visível no seu Site. Para mantê-lo apenas cadastrado no Painel de Controle e sem aparecer no Site, desmarque a caixa de seleção abaixo.</p>

            <div class="checkbox">
              <label><%= f.check_box :published, value: true %>Publicar Imóvel no Site</label>
            </div>
          </fieldset>
        </div>

        <div class="col-xs-12 col-md-6">
          <fieldset>
            <legend>Finalizar</legend>
              <p>Para concluir o preenchimento dos dados do Imóvel, basta clicar no botão abaixo e todas as informações estarão salvas e prontas para serem exibidas no Site.</p>

              <%= f.submit 'Salvar Todas as Alterações', class: 'btn btn-lg btn-primary btn-block' %>
          </fieldset>
        </div>
      </div>
    <% end %>
  </div>

  <div class="col-md-3 col-lg-offset-1 hidden-xs hidden-sm">
    Sidebar
  </div>
</div>
